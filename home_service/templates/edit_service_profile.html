{% extends 'index.html' %}
{% load static %}
{% block body %}

<div class="w3l_banner_info" style="height:10px">
    <div class="slider1">
        <div class="callbacks_container">
            <ul class="rslides" id="slider3">
                <li>
                    <div class="slider1-img" style="height:90px">
                        <div class="slider_banner_info"></div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>

<div class="container" style="margin-top:10%;">
    <h2 style="font-weight:bold; font-family:'Monotype Corsiva'; color:#E6120E; margin-top:2%" align="center">Edit Profile</h2>
    <hr>

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-8">
                <form method="post" action="" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="inputEmail4">First Name</label>
                            <input type="text" class="form-control" value="{{ pro.user.first_name }}" name="fname" id="inputEmail4">
                        </div>
                        <div class="form-group col-md-6">
                            <label for="inputPassword4">Last Name</label>
                            <input type="text" class="form-control" name="lname" value="{{ pro.user.last_name }}" id="inputPassword4">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-12">
                            <label for="inputEmail4">Username</label>
                            <input type="text" class="form-control" name="uname" value="{{ pro.user.username }}" id="inputEmail4" readonly>
                        </div>
                        <div class="form-group col-md-12">
                            <label for="inputEmail4">Email Address</label>
                            <input type="text" class="form-control" name="email" value="{{ pro.user.email }}" id="inputEmail4">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-12">
                            <label for="inputEmail4">Address</label>
                            <input type="text" class="form-control" name="address" value="{{ pro.address }}" id="inputEmail4">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-12">
                            <label for="exampleInputPassword1">Contact</label>
                            <input type="text" class="form-control" id="exampleInputPassword1" value="{{ pro.contact }}" name="contact">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-10">
                            <label for="exampleInputPassword1">Image</label>
                            <input type="file" class="form-control" id="exampleInputPassword1" name="image">
                        </div>
                        <div class="form-group col-md-2">
                            <img src="{{ pro.image.url }}" style="width:100px;height:110px">
                        </div>
                    </div>
                    <p style="font-weight:bold; color:red; padding:20px">Update Service Detail</p>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="exampleInputPassword1">Work Experience (in years)</label>
                            <input type="text" class="form-control" placeholder="Work Experience" id="exampleInputPassword1" name="exp" value="{{ pro.experience }}">
                        </div>
                        <div class="form-group col-md-6">
                            <label for="exampleInputPassword1">Select City</label>
                            <select class="form-control" name="city">
                                {% for i in city %}
                                    <option value="{{ i.city }}" {% if pro.city.city == i.city %}selected{% endif %}>{{ i.city }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="exampleInputPassword1">Date of Birth</label>
                            <input type="date" class="form-control" id="exampleInputPassword1" name="dob" value="{{ pro.dob }}">
                        </div>
                        <div class="form-group col-md-6">
                            <label for="exampleInputPassword1">Date of Birth</label>
                            <input type="text" class="form-control" id="exampleInputPassword1" value="{{ pro.dob }}" readonly>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="exampleInputPassword1">Type of ID</label>
                            <select class="form-control" name="card">
                                {% for i in car %}
                                    <option value="{{ i.card }}" {% if pro.id_type == i.card %}selected{% endif %}>{{ i.card }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="exampleInputPassword1">Select your Service</label>
                            <select class="form-control" name="service">
                                {% for i in ser %}
                                    <option value="{{ i.category }}" {% if pro.service_name == i.category %}selected{% endif %}>{{ i.category }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-7">
                            <label for="exampleInputPassword1">ID Proof Image</label>
                            <input type="file" class="form-control" id="exampleInputPassword1" name="image1">
                        </div>
                        <div class="form-group col-md-5">
                            {% if pro.id_card %}
                                <img src="{{ pro.id_card.url }}" style="width:100%;height:110px">
                            {% else %}
                                <label for="exampleInputPassword1">Not available</label>
                                <img src="" style="width:100%;height:110px">
                            {% endif %}
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary" style="margin-bottom:5%">Update</button>
                </form>
            </div>
            <div class="col-md-4">
                <img src="{% static 'images/pro123.jpg' %}" style="width:100%;height:800px">
            </div>
        </div>
    </div>
</div>

{% if terror %}
<script>
    alert('Update Successfully');
    window.location = "{% url 'service_profile' %}";
</script>
{% endif %}
{% endblock %}
